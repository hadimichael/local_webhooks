var httpreq = require('httpreq');

function LocalWebhook(options) {
	console.log("LocalWebhook was created.");

	if(!options.ip) {
		throw new Error('No IP defined.');
	}

	this.ip = options.ip;

	return this;
}

LocalWebhook.prototype.post = function(url, data) {
	httpreq.post('http://' + url, {
		json: JSON.parse(data)
	}, function (err, res){
		if (err){
			console.log(err);
		}else{
			console.log(res.body);
		}
	});
};

module.exports = LocalWebhook;